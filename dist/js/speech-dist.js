var chatlogStatus,prevVisualizerState,language,fontSpacing,voicePitch,voiceVolume,thisNumOfWords,thisVolume,thisVoicePitch,thisTimeDifference,thisWps,thisLps,intervalIncrementSecondsSpeaking,prevMode,intervalIncrementSecondsResult,url=location.host,appState="visualizer",newstickerRunning=!1,textMode="wholeText",minFontSize="huge",displayMode="center",fontSizeMode="voice",waveForm=!1,invisCam=!1,iconMode=!1,imageMode=!1,physicalIcons=!1,physicsMode=!1,mindMode="",hugeImage=!1,useTranskript=!1,shoppingMode=!1,reinGezoomed=!1,syncedSlaves=!0,outdoor=!1,philipp=!1,kontrolle=!1,optionsOpenedFirstTime=!1,rausGezoomed=!1,wikiMode=!1,choreo=!0,pr√§sentation=!1,activeFolie=0,folienSchritt=0,transcriptInFolie=!0,physicInFolie=!1,translationMode=!1,showAll=!1,smallOldText=!1,webMode=!1,translationLanguage="en",echoMode=!1,hansKlein=!1,poesie=!1,filter=!0,lottozahlen=!1,restart=!1,theEnd=!1,pitchValue=1,rate=1,rateValue=1,numOfSynth=0,voices=[],activeColor="black",displayColor="bright",invisAnimation="invisible",wordCount=0,wordCounting=0,semanticCounter=0,resultCount=0,imageCount=0,volumeArray=[],pitchArray=[],wpsArray=[],numOfChildResults=0,stepper=0,resultCounter=0,count=0,mapActive=!1,lastTranskription=[],menuClosed=!0,chaosMode=!1,startMode=7,countdown=!1,sprachSteuerung=!0,newsTicker=!0,primaryColor="dark",secondaryColor="bright",feedbackState=!1,aiState=!1,musikState=!1,visualizerState=startMode,livestream=!0,menuState=!1,interimBoolean=!0,textInput=!0,feedbackSpeed=20,feedbackDuration=20,feedbackArray=[],zoomState=!1,lesezeichen=!1,chatlog=!0,notification=!1,messages=[],netzwerk=!1,newFrame=!1,options={},prevOptions={};options.synchron,options.sprachsteuerung,options.chaosMode,options["pr√§sentation"],options.soundState,options.zoomState,options.lesezeichen,options.chatlog,options.echoMode,options.livestream,options.feedbackState,options.menuState,options.visualizerState,options.outdoor,options.hansKlein,options.poesie,options.filter,options.folienSchritt,options.activeFolie,options.newstickerRunning,options.netzwerk,options.transcriptInFolie,options.countdown,options.physicInFolie,options.speaking,options.newFrame,options.dynamicZoom,options.activeColor,options.obsState,options.feedbackSpeed,options.feedbackDuration,options.lottozahlen,options.neustart,options.theEnd,options.kontrolle,options.philipp,soundState=!1;var recognition,today,runtimeReadable,chatlogInterval,newsTickerInterval,speaking=!1,glitch=!1,startText="",introIsDone=!1,runtime=0;function startApp(){setInterval((function(){runtimeReadable=(runtime+=1).toString().toHHMMSS(),$(".uhrzeit span").text(runtimeReadable)}),1e3),messages=[],populateVoiceList(),handleMusik(),buildPhysicsStatic(),"german"==language?(window.speechRecognition=window.speechRecognition||window.webkitSpeechRecognition,(recognition=new speechRecognition).continuous=!1,recognition.interimResults=interimBoolean,recognition.lang="de-de"):(window.speechRecognition=window.speechRecognition||window.webkitSpeechRecognition,(recognition=new speechRecognition).continuous=!1,recognition.interimResults=interimBoolean,recognition.lang="en-en"),$("html").addClass("master"),initializeSpeech(),handleOptionStates(),startVisualizer()}String.prototype.toHHMMSS=function(){var e=parseInt(this,10),t=Math.floor(e/3600),i=Math.floor((e-3600*t)/60),a=e-3600*t-60*i;return t<10&&(t="0"+t),i<10&&(i="0"+i),a<10&&(a="0"+a),t+":"+i+":"+a},$(document).ready((function(){$("html").removeClass("-isLoading"),$("html").addClass("-loaded")}));var nextSendung,min,timeleftBisTagesschau=[],sendungsZeiten=[600,1580],prev=61,counting=0,outroPlayed=!1;function handleMusik(){musikState&&setInterval((function(){runtime>60&&runtime<90?zoomState=!0:(zoomState=!1,zoomState=runtime>120&&runtime<150)}),300)}function min(e){return"[object Array]"===toString.call(e)&&Math.min.apply(null,e)}function fmtMSS(e){return(e-(e%=60))/60+(9<e?":":":0")+e}var beepInterval,news,chaosModeChanged=!1,notificationBeep=!0,feedbackModeChanged=!1,comingSoon=!1,counta=0;function startVisualizer(e){console.log("Visualizer started üíÅ"),handleZoom(),handleItemCache(),clearInterval(chatlogInterval),resetOldClasses(),handleVisualizerStates(),handleOptionStates(),handleUiStyles(),handleMap(),startRecognition(),handlePoesie(),handleLottozahlen()}var newsText=[];function getRandomArrayElements(e,t){for(var i,a,n=e.slice(0),o=e.length,s=o-t;o-- >s;)i=n[a=Math.floor((o+1)*Math.random())],n[a]=n[o],n[o]=i;return n.slice(s)}function oddOrEven(e){return 1&e?"odd":"even"}function handleItemCache(){$(".item").length>=128&&$(".item").each((function(e){$(this).remove()}))}$(".zoom-toggle").click((function(){openMap()}));var clicked=!1;$(".menu-toggle").click((function(){$("html").hasClass("-activeTutorial")&&(intro.exit(),intro.goToStep(1).start()),menuState=!menuState,handleOptionStates()})),$(".aside-menu-small p").each((function(e){console.log(e),$(this).on("click",(function(){$(this).find("span").toggleClass("-active"),0==e&&(filter=!filter,indicateAction()),1==e&&(openMapMenu(),-1!=visualizerState&&3!=visualizerState||(visualizerState=6),zoomState=!zoomState,indicateAction(),setTimeout((function(){menuState=!1,closeMenu()}),1e3)),2==e&&(feedbackState=!feedbackState,indicateAction()),3==e&&(soundState=!soundState,indicateAction()),4==e&&(clearTimeout(collageTimeout),poesie=!0,indicateAction(),feedbackState=!1,soundState=!1,livestream=!1,chaosMode=!1,menuState=!1,visualizerState=3)}))}));var blinkTimer,index=0;function loopThroughMenuItems(){var e=$(".aside-menu-wrap p");index<=e.length&&($(e).removeClass("-highlighted"),$(e[index]).addClass("-highlighted"),++index==e.length&&(index=0),blinkTimer=$(e[index-1]).hasClass("-active")?setTimeout(loopThroughMenuItems,2e3):setTimeout(loopThroughMenuItems,200))}var staticPhysicIsRebuilded=!1;function openMenu(){index=0,menuState=!0,optionsOpenedFirstTime||(optionsOpenedFirstTime=!0,sprachSteuerung=!0),$("aside").addClass("-active"),$(".menu-toggle").addClass("-active"),$("body").addClass("-menuActive"),$("body").addClass("-menuActiveAnimation"),staticPhysicIsRebuilded||(rebuildPhysicsStatic(),staticPhysicIsRebuilded=!0),setTimeout((function(){$("body").removeClass("-menuActiveAnimation")}),400)}function closeMap(){$("html").removeClass("-zoomOut-"+zoomLevel),zoomLevel=2,prevZoomLevel=2,mapActive=!1,$("html").removeClass("map-zoomedOut")}function openMap(){$("html").addClass("map-zoomedOut"),mapActive=!0}function openFragmente(){$(".app-history .item").each((function(e){$(this).removeClass("invisible").removeClass("invisibleHyperactive")}))}function closeFragmente(){}var prevZoomLevel,dynamicZoom=!1;function handleZoom(){var e,t;zoomState&&((e=document.getElementById("app-main-wrap")).scrollTop=e.scrollHeight,(t=document.getElementsByTagName("body"))[0].scrollTop=t[0].scrollHeight,dynamicZoom?($("html").removeClass("-zoomOut-2"),$("html").removeClass("-zoomOut-3"),$("html").removeClass("-zoomOut-4"),$("html").removeClass("-zoomOut-1"),$("html").removeClass("-zoomOut-5"),$("html").removeClass("-zoomOut-7"),$("html").removeClass("-zoomOut-6"),$("html").addClass("-zoomOut-"+zoomLevel),$(".item").length<=9&&(zoomLevel=2),$(".item").length<=20&&$(".item").length>9&&(zoomLevel=3),$(".item").length<=49&&$(".item").length>20&&(zoomLevel=4),$(".item").length<=262&&$(".item").length>49&&(zoomLevel=5)):($("html").removeClass("-zoomOut-2"),$("html").removeClass("-zoomOut-3"),$("html").removeClass("-zoomOut-4"),$("html").removeClass("-zoomOut-1"),$("html").removeClass("-zoomOut-5"),$("html").removeClass("-zoomOut-7"),$("html").removeClass("-zoomOut-6"),$("html").addClass("-zoomOut-"+zoomLevel),(e=document.getElementById("app-main-wrap")).scrollTop=e.scrollHeight,(t=document.getElementsByTagName("body"))[0].scrollTop=0))}var zoomLevel=2;function handleMap(){}function resetVisualizer(e){"toChaos"==e?(setTimeout((function(){translationMode=!1}),4e3),physicsMode=!1,imageMode=!1):physicsMode=!1,useTranskript=!1,shoppingMode=!1,fontSpacing="normal",webMode=!1,textMode="wholeText",fontSizeMode="voice",iconMode=!1,waveForm=!1,mindMode="",wikiMode=!1,showAll=!1,displayColor="bright"}$("html").on("click","div.item",(function(){zoomState&&($(".item").each((function(e){$(this).addClass("invisible")})),$(".active").each((function(e){$(this).removeClass("active")})),$(this).clone().removeClass("invisible").removeClass("invisibleHyperactive").addClass("active").appendTo(".items"),zoomState=!1,prevZoomLevel=0,zoomLevel=2,$("html").removeClass())}));var zoomInteraction=!1;function closeMenu(){$("aside").removeClass("-active"),$("body").removeClass("-menuActive"),staticPhysicIsRebuilded&&(rebuildPhysicsStatic(),staticPhysicIsRebuilded=!1)}function openMapMenu(){$(".submenu").addClass("-active")}function closenMapMenu(){$(".submenu").removeClass("-active")}function handleOptionStates(){menuState?openMenu():closeMenu(),zoomState?(openMap(),handleZoom()):closeMap(),lesezeichen?openFragmente():closeFragmente(),zoomState&&menuState&&openMapMenu(),zoomState||closenMapMenu(),dynamicZoom?$(".submenu-dynamisch ").addClass("-active"):$(".submenu-dynamisch").removeClass("-active"),newsTicker?($(".menu-nachrichten input").prop("checked",!0),$(".menu-nachrichten span").addClass("-active")):($(".menu-nachrichten input").prop("checked",!1),$(".menu-nachrichten span").removeClass("-active")),kontrolle?($(".menu-kontrolle input").prop("checked",!0),$(".menu-kontrolle span").addClass("-active")):($(".menu-kontrolle input").prop("checked",!1),$(".menu-kontrolle span").removeClass("-active")),syncedSlaves?($(".menu-synchron input").prop("checked",!0),$(".menu-synchron span").addClass("-active")):($(".menu-synchron input").prop("checked",!1),$(".menu-synchron span").removeClass("-active")),reinGezoomed&&$(".submenu-zoomIn").addClass("-active"),rausGezoomed&&$(".submenu-zoomOut").addClass("-active"),hansKlein?($(".menu-hansKlein input").prop("checked",!0),$(".menu-hansKlein span").addClass("-active")):($(".menu-hansKlein input").prop("checked",!1),$(".menu-hansKlein span").removeClass("-active")),1==poesie?($(".menu-poesie input").prop("checked",!0),$(".menu-poesie span").addClass("-active")):($(".menu-poesie input").prop("checked",!1),$(".menu-poesie span").removeClass("-active")),1==pr√§sentation?($(".menu-pr√§sentation input").prop("checked",!0),$(".menu-pr√§sentation span").addClass("-active")):($(".menu-pr√§sentation input").prop("checked",!1),$(".menu-pr√§sentation span").removeClass("-active")),1==netzwerk?($(".menu-netzwerk input").prop("checked",!0),$(".menu-netzwerk span").addClass("-active")):($(".menu-netzwerk input").prop("checked",!1),$(".menu-netzwerk span").removeClass("-active")),0==filter?($(".menu-filter input").prop("checked",!0),$(".menu-filter span ").addClass("-active")):($(".menu-filter input").prop("checked",!1),$(".menu-filter span ").removeClass("-active")),1==lottozahlen?($(".menu-lottozahlen input").prop("checked",!0),$(".menu-lottozahlen span").addClass("-active")):($(".menu-lottozahlen input").prop("checked",!1),$(".menu-lottozahlen span").removeClass("-active")),sprachSteuerung?($(".menu-sprachsteurung input").prop("checked",!0),$(".menu-sprachsteurung span").addClass("-active")):($(".menu-sprachsteurung input").prop("checked",!1),$(".menu-sprachsteurung span").removeClass("-active")),chaosMode?($(".menu-chaos input").prop("checked",!0),$(".menu-chaos span").addClass("-active")):($(".menu-chaos input").prop("checked",!1),$(".menu-chaos span").removeClass("-active")),feedbackState?($(".menu-feedback input").prop("checked",!0),$(".menu-feedback span").addClass("-active")):($(".menu-feedback input").prop("checked",!1),$(".menu-feedback span").removeClass("-active")),musikState?($(".menu-musik input").prop("checked",!0),$(".menu-musik span").addClass("-active")):($(".menu-musik input").prop("checked",!1),$(".menu-musik span").removeClass("-active")),chatlog?($(".menu-chatlog input").prop("checked",!0),$(".menu-chatlog span").addClass("-active")):($(".menu-chatlog input").prop("checked",!1),$(".menu-chatlog span").removeClass("-active")),livestream?($(".menu-livestream input").prop("checked",!0),$(".menu-livestream span").addClass("-active")):($(".menu-livestream input").prop("checked",!1),$(".menu-livestream span").removeClass("-active")),zoomState?($(".menu-zoom input").prop("checked",!0),$(".menu-zoom span").addClass("-active")):($(".menu-zoom input").prop("checked",!1),$(".menu-zoom span").removeClass("-active")),lesezeichen?($(".menu-lesezeichen input").prop("checked",!0),$(".menu-lesezeichen span").addClass("-active")):($(".menu-lesezeichen input").prop("checked",!1),$(".menu-lesezeichen span").removeClass("-active")),soundState?($(".menu-sound input").prop("checked",!0),$(".menu-sound span").addClass("-active")):($(".menu-sound input").prop("checked",!1),$(".menu-sound span").removeClass("-active")),echoMode?($(".menu-echo input").prop("checked",!0),$(".menu-echo span").addClass("-active")):($(".menu-echo input").prop("checked",!1),$(".menu-echo span").removeClass("-active")),menuState&&($(".menu-toggle").addClass("-active"),$("body").addClass("-menuActive"),$("aside").addClass("-active")),$(".-original .menu-item").each((function(e){$(this).removeClass("-active"),e-1==visualizerState&&$(this).addClass("-active")})),$(".-copy .menu-item").each((function(e){$(this).removeClass("-active"),e-1==visualizerState&&$(this).addClass("-active")})),countdown&&$("body").addClass("-countdown"),options.philipp=philipp,options.countdown=countdown,options.sprachsteuerung=sprachSteuerung,options.chaosMode=chaosMode,options.soundState=soundState,options.menuState=menuState,options.neustart=restart,options.theEnd=theEnd,options.kontrolle=kontrolle,options.feedbackSpeed=feedbackSpeed,options.feedbackDuration=feedbackDuration,options.hansKlein=hansKlein,options.poesie=poesie,options["pr√§sentation"]=pr√§sentation,options.activeFolie=activeFolie,options.newstickerRunning=newstickerRunning,options.netzwerk=netzwerk,options.filter=filter,options.folienSchritt=folienSchritt,options.transcriptInFolie=transcriptInFolie,options.physicInFolie=physicInFolie,options.lottozahlen=lottozahlen,options.lesezeichen=lesezeichen,options.zoomState=zoomState,options.newFrame=newFrame,options.activeColor=activeColor,options.dynamicZoom=dynamicZoom,options.chatlog=chatlog,options.outdoor=!!outdoor,options.philipp=!!philipp,options.countdown=!!countdown,options.livestream=livestream,options.feedbackState=feedbackState,options.speaking=speaking,options.echoMode=echoMode,options.synchron=syncedSlaves,syncedSlaves?options.visualizerState=visualizerState:"slave"==appNetworkMode||(options.visualizerState=visualizerState)}function jumpToLastIcon(e){if(2==visualizerState){var t=document.getElementById(e).getElementsByClassName("icon-wrap")[0];t.scrollLeft=t.scrollWidth}}var rand,collageTimeout,justChangedInsideCollage=!1;function handleVisualizerStates(){var e=100*Math.random()-1;if(-1==visualizerState&&(waveForm=!0),15==visualizerState&&(mindMode="contemplation",textMode="words",hugeImage=!1,imageMode=!0,displayColor="dark",showAll=!0),1==visualizerState&&(mindMode="contemplation",hugeImage=!1,imageMode=!0,displayColor="dark",showAll=!0),2==visualizerState&&(textMode="noText",iconMode=!0,imageMode=!1,displayColor="dark",translationMode=!0),0==visualizerState&&(fontSizeMode="voice",textMode="words"),3==visualizerState&&(useTranskript=!0,textMode="noText",activeColor="black",imageMode=!1,physicsMode=!0,fontSizeMode="normal"),14==visualizerState&&(useTranskript=!0,textMode="noText",displayColor="bright",iconMode=!0,physicalIcons=!0,translationMode=!0,imageMode=!1,physicsMode=!0,fontSizeMode="normal"),4==visualizerState&&(textMode="wholeText",fontSizeMode="voice",physicsMode=!0,smallOldText=!1),5==visualizerState&&(useTranskript=!0,physicsMode=!0,fontSizeMode="voice"),6==visualizerState&&(physicsMode=!0,imageMode=!1,fontSizeMode="voice",smallOldText=!0),7==visualizerState&&(displayColor=secondaryColor,fontSizeMode="voice",textMode="wholeText",physicsMode=!0,imageMode=!0,!justChangedInsideCollage)){var t=Math.round(5200*Math.random())+3800;justChangedInsideCollage=!0,console.log("JETZT GEWECHSELT"),e>=90&&(visualizerState=12),e<90&&e>80&&(visualizerState=11),e<=80&&(visualizerState=7,hugeImage=!1,fontSpacing="normal"),e>50&&e<=70&&(smallOldText=!0),collageTimeout=setTimeout((function(){console.log("TRIGGER"),visualizerState=7,translationMode=!1,hugeImage=!1,physicsMode=!0,justChangedInsideCollage=!1,smallOldText=!1}),t)}8==visualizerState&&(webMode=!0,displayColor="dark",showAll=!0,imageMode=!1,textMode="noText"),9==visualizerState&&(wikiMode=!0,webMode=!0,imageMode=!1,textMode="noText",showAll="few"),10==visualizerState&&(shoppingMode=!0,imageMode=!1,fontSizeMode="huge",textMode="wholeText"),11==visualizerState&&(imageMode=!0,hugeImage=!0,textMode="wholeText",physicsMode=!1,fontSizeMode="small",e>90&&(physicsMode=!0)),12==visualizerState&&(imageMode=!0,hugeImage=!0,textMode="wholeText",physicsMode=!1,fontSizeMode="small",e>90&&(physicsMode=!0)),13==visualizerState&&(physicsMode=!0,hugeImage=!0,imageMode=!0,textMode="wholeText",e>90&&(physicsMode=!0)),prevVisualizerState=visualizerState,shoppingMode?$("body").addClass("shoppingMode"):$("body").removeClass("shoppingMode"),imageMode?$("body").addClass("imageMode"):$("body").removeClass("imageMode"),waveForm?$("body").addClass("waveForm"):$("body").removeClass("waveForm")}var notCreatedYet=!1;function resetValues(){wordCount=0,wordCounting=0,newFrame=!1,volumeArray.length=0,pitchArray.length=0,resultCounter=0,semanticCounter=0,numOfChildResults=0}function resetOldClasses(){$(".app-main").removeClass().addClass("app-main"),$("body").removeClass().addClass("visualizer")}var newsDurationInterval,newsDuration,hatEineKlasse=!1;function itemUiStyles(e){const t="#"+e;iconMode&&(displayColor="dark"),$(t).addClass("visualizerState-"+visualizerState),newstickerRunning&&$(t).addClass("newsTickerRunning"),speaking&&$(t).addClass("speakingRunning"),"dark"==displayColor&&($("body").removeClass("body-brightUI"),-1==visualizerState?($(".graphen").removeClass("brightUI"),$(".graphen").addClass("darkUI")):($(t).removeClass("brightUI"),$(t).addClass("darkUI"))),hugeImage?(displayColor="dark",$(t).addClass("hugeImages")):$(t).removeClass("hugeImages"),"bright"==displayColor&&($("body").addClass("body-brightUI"),-1==visualizerState?($(".graphen").removeClass("darkUI"),$(".graphen").addClass("brightUI")):($(t).removeClass("darkUI"),$(t).addClass("brightUI")))}function handleUiStyles(e){livestream?$("body").addClass("livestream"):$("body").removeClass("livestream"),""!=fontSizeMode?$("body").addClass(fontSizeMode+"Fontsize"):$("body").removeClass(fontSizeMode),webMode?$("body").addClass("webMode"):$("body").removeClass("webMode"),useTranskript?$("body").addClass("useTranskript"):$("body").removeClass("useTranskript"),mindMode?$("body").addClass("contemplation"):$("body").removeClass("contemplation"),15==visualizerState?$("body").addClass("conWithText"):$("body").removeClass("conWithText"),lesezeichen?$("body").addClass("-fragmenteActive"):$("body").removeClass("-fragmenteActive"),iconMode?$("body").addClass("iconMode"):$("body").removeClass("iconMode"),physicsMode?$("body").addClass("physicsMode"):$("body").removeClass("physicsMode"),imageMode?$("body").addClass("imageMode"):$("body").removeClass("imageMode"),feedbackState?$("body").addClass("feedback"):$("body").addClass("noFeedback"),wikiMode?$("body").addClass("wikiMode"):$("body").removeClass("wikiMode"),sprachSteuerung?$("body").addClass("sprachSteuerung"):$("body").removeClass("sprachSteuerung"),chaosMode?$("body").addClass("chaosMode-active"):$("body").removeClass("chaosMode-active"),newstickerRunning?$("body").addClass("newstickerRunning"):$("body").removeClass("newstickerRunning"),hansKlein?$("body").addClass("h√§nschenKleinRunning"):$("body").removeClass("h√§nschenKleinRunning"),"dark"==displayColor?($("body").addClass("body-darkUI"),$("body").removeClass("body-brightUI")):($("body").addClass("body-brightUI"),$("body").removeClass("body-darkUI")),$("body").addClass("animationWaitingDuration-"+feedbackSpeed),$("body").addClass("animationSpeakingDuration-"+feedbackDuration),$("body").addClass(textMode+"Mode"),$(".app-main").addClass(displayMode+"Mode"),1==showAll&&"few"!=showAll?$("body").addClass("showAll"):($("body").removeClass("showAll"),"few"==showAll&&$("body").addClass("showFew"))}function showAllItems(){$(".item").each((function(e){$(this).removeClass("invisible"),"wholeText"==textMode&&$(this).find(".first").removeClass(invisAnimation)}))}function mainMenu(){$("body").removeClass(),$("body").addClass("mainMenu-active")}var letzteNewsgelesen=!1;$(".startVisualizer-btn").click((function(){appState="visualizer",startVisualizer()}));var numOfReadNews=0,mapModeChanged=!1,introVorgelesen=!1,tagesschauIntroNotPlayed=!0,poesieText="O du, Geliebte meiner siebenundzwanzig Sinne, ich liebe dir! - Du deiner dich dir, ich dir, du mir. - Wir? Das geh√∂rt (beil√§ufig) nicht hierher. Wer bist du, ungez√§hltes Frauenzimmer? Du bist - - bist du? - Die Leute sagen, du w√§rest, - la√ü sie sagen, sie wissen nicht, wie der Kirchturm steht. Du tr√§gst den Hut auf deinen F√º√üen und wanderst auf die H√§nde, auf den H√§nden wanderst du. Hallo, deine roten Kleider, in wei√üe Falten zers√§gt. Rot liebe ich Anna Blume, rot liebe ich dir! -Du deiner dich dir, ich dir, du mir. - Wir? Das geh√∂rt [beil√§ufig] in die kalte Glut. Rote Blume, rote Anna Blume, wie sagen die Leute? Preisfrage:  1. Anna Blume hat ein Vogel. 2. Anna Blume ist rot. 3. Welche Farbe hat der Vogel Blau ist die Farbe deines gelben Haares. Rot ist das Girren deines gr√ºnen Vogels. Du schlichtes M√§dchen im Alltagskleid, du liebes gr√ºnes Tier, ich liebe dir! - Du deiner dich dir, ich dir, du mir, - Wir? Das geh√∂rt [beil√§ufig] in die Glutenkiste. Anna Blume! Anna, a n-n-a, ich tr√§ufle deinen Namen.  Dein Name tropft wie weiches Rindertalg. Wei√üt du es Anna, wei√üt du es schon? Man kann dich auch von hinten lesen, und du, du  Herrlichste von allen, du bist von hinten wie von vorne: ‚Äúa - n - n - a‚Äù. Rindertalg tr√§ufelt streicheln √ºber meinen R√ºcken. Anna Blume, du tropfes Tier, ich liebe dir!",lottozahlenString="4 29 29 32 64 52. Superzahl 7",poesieRunning=!1;function handlePoesie(){Math.floor(20*Math.random());poesie&&(clearTimeout(collageTimeout),poesieRunning=!0,poesie=!1,vorlesen(poesieText,"medium",(function(){vorlesenFinished&&(livestream=!0,poesieRunning=!1)})))}function handleLottozahlen(){lottozahlen&&(lottozahlen=!1,vorlesen(lottozahlenString,"medium",(function(){vorlesenFinished&&(feedbackState=!1)})))}var messagesLength,messagesLengthPrev,hansRunning=!1,finishedTranscript=[],abspannCreated=!1,finishedTranscriptRecieved=!1,id=0;function createActive(e,t){setTimeout((function(){$("#"+e).addClass("-active"),t.length>0&&t.length<=150&&$("#"+e).css({transform:"scale(0.6)"}),t.length>150&&t.length<=300&&$("#"+e).css({transform:"scale(0.5)"}),t.length>300&&t.length<=400&&$("#"+e).css({transform:"scale(0.4)"}),t.length>400&&$("#"+e).css({transform:"scale(0.4)"}),t.length>700&&$("#"+e).css({transform:"scale(0.25)"})}),200)}function createDeathtimer(e){setTimeout((function(){$("#"+e).removeClass("-active"),$("#"+e).removeAttr("style"),$("#"+e).addClass("-invisble")}),1500)}var prevID,messagesArray=[];function restartRec(){if("german"==language){window.speechRecognition=window.speechRecognition||window.webkitSpeechRecognition;(new speechRecognition).lang="de-de"}else{window.speechRecognition=window.speechRecognition||window.webkitSpeechRecognition;(new speechRecognition).lang="en-en"}recognition.stop(),recognition.start()}function addDataToTranscript(e){var t="p-"+$(".active").attr("id"),i=Math.floor(Math.random()*($(window).width()/2+1)),a=Math.floor(Math.random()*($(window).height()/2+1));if($(".active .last").length>0){var n=$("<p />");n.css({left:i,top:a}),n.append(e),$(".physic-wrap").append(n.attr("id",t))}handleMaxSizeTranskriptPhysics()}function handleMaxSizeTranskriptPhysics(){poesieRunning?$(".physic-wrap p").length>=180&&$(".physic-wrap p").each((function(e){0==e&&($(".physic-wrap p").remove(),rebuildPhysicsStatic())})):$(".physic-wrap p").length>=140&&$(".physic-wrap p").each((function(e){0==e&&($(".physic-wrap p").remove(),rebuildPhysicsStatic())}))}function handlePhysicsTranskript(){var e;1==useTranskript&&1==physicsMode&&($(".physic-wrap p").each((function(t){e=$(this).attr("id"),$(this).hasClass("blast-root")||($(this).blast({delimiter:"word",generateValueClass:!0,tag:"span"}),$(this).find("span").hasClass("physical")||($(this).find("span").addClass("physical"),source="transkript",buildObjects(e,source)))})),$(".physic-wrap img").each((function(t){e=$(this).attr("id"),source="transkript",buildObjects(e,source)})))}function handlePhysics(){if(1!=webMode){var e,t=document.getElementsByClassName("active")[0].id,i=($(".active p").text().toLowerCase(),Math.floor(100*Math.random())-1),a="",n="random";n=4==visualizerState?"allTheTime":"random",physicsMode&&"noText"!=textMode&&(e="live",6==visualizerState?($(".active p span").blast({delimiter:"character",generateValueClass:!0,customClass:a,tag:"p"}),$(".active p > .smallP").blast({delimiter:"character",generateValueClass:!0,customClass:a,tag:"p"}),$(".active p .smallP p").addClass("physical"),$(".active span p").addClass("physical"),resetPhysicsLive(),buildPhysicsOnTheGo(),buildObjects(t,e)):"allTheTime"==n?($(".active p span").blast({delimiter:"character",generateValueClass:!0,customClass:a,tag:"p"}),$(".active span p").addClass("physical"),resetPhysicsLive(),buildPhysicsOnTheGo(),buildObjects(t,e)):i>60&&(i>95&&"slave"!=appNetworkMode&&(a="-randomBig"),$(".active p span").blast({delimiter:"character",generateValueClass:!0,customClass:a,tag:"p"}),1==smallOldText&&($(".active p > .smallP").blast({delimiter:"character",generateValueClass:!0,customClass:a,tag:"p"}),$(".active p .smallP p").addClass("physical")),$(".active span p").addClass("physical"),resetPhysicsLive(),buildPhysicsOnTheGo(),buildObjects(t,e)))}}function initializeSpeech(){intervalIncrementSecondsResult=setInterval(incrementSecondsResult,100),intervalIncrementSecondsSpeaking=setInterval(incrementSecondsSpeaking,100),recognition.onstart=function(){},recognition.onpause=function(){console.log("pause")},recognition.onend=function(){console.log("ende"),$(".transkript").append(" "+$(".active p").text());$(".active p .first").text(),$(".active p .last").text();resetValues(),"visualizer"==appState&&(handlePhysics(),makeOnlyLastActive(),removeTrash(),startVisualizer())},recognition.onerror=function(e){console.log("error")},recognition.addEventListener("result",(e=>{var t=Array.from(e.results).map((e=>e[0])).map((e=>e.transcript)).join("");if(activeID=$(".active").attr("id"),"visualizer"==appState){t=t.replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"_"),secondsSinceLastResult=0,resultCounter+=1;const e=new Date;wordCounting+=1;var a=100*Math.random()-1,n=Math.floor(100*Math.random())-1;$(".active").each((function(e){$(".active p").removeClass("shake"),$(".active img").removeClass("shake"),$(this).removeClass(invisAnimation),$(".active p").addClass("shake"),$(".active img").addClass("shake")})),t,"1"==(numOfChildResults+=1)&&$(".active .timestampSpanFirstWord").text(e.getTime()),chaosMode&&resultCounter%3==1&&(randomMode(a),itemUiStyles(activeID));var o=parseInt($(".active").find(".voicePitch").text())-200;$(".active").find(".voicePitch").text().length>0||(o=100),1==soundState&&beep(5,o,50),newFrame=!0,indicateNewFrame(),newResult(),handleOptionStates(),resultCounter%3==1&&(addDataToTranscript(t),handleImageVisuals(t,activeID)),handleSemanticOptions(t,activeID),handleTextVisuals(t,activeID),handleSemanticStyling(t,activeID),handleItemVisibility(activeID),handleUiStyles(activeID),itemUiStyles(activeID),kontrolle||controlSentenceSplit(n,fontSizeMode,webMode,t),lastTranskription.length>14&&lastTranskription.splice(0,1),handlePhysicsTranskript();var s=t.toLowerCase(),l=!1;console.log(lastTranskription);let r=["penis","hans","bitte kontrolle","es reicht","dynamisch","kleiner","gr√∂√üer","reinzoomen","rauszoomen","poesie","weiter","bitte zur√ºck","NSFW","not safe for work","not safe","filter","lottozahlen","tempo","ok","feedback aus","feedback an","internet","feedback","leise","hallo hallo","shoppen","w√∂rter","danke","steuer","gesteuert","schlie√üen","text","vorlesen","zeichen","chaos","?","fallen","russisch","chinesisch","stop","fresse","sound an","sound aus","suchen","surfen","surfen","pause","neustart","aus","leise","stille","schnell","langsam","leise","collage","denken","reden","stimme","text","regen","wikipedia","englisch","deutsch","unsichtbar"],c=["penis","hans","control please","enough","dynamic","smaller","bigger","zoom in","zoom out","poetic","weiter","history","filter","NSFW","not safe for work","not safe","lotto","faster","ok","feedback off","feedback on","internet","feedback","quiet","hello hello","shopping","words","thanks","close","text","read","chaos","?","falling","russian","chinese","stop","sound on","sound off","search","surfing","pause","reboot","off","quiet","silence","fast","slow","quiet","collage","thinking","talking","voice","rain","wikipedia","englisch","german","invisible"];for("english"==language&&(r=c),i=0;i<=r.length;i++)s.includes(r[i])&&(l=!0),i!=r.length||l||lastTranskription.includes(s)||lastTranskription.push(s)}}))}var backendTranscript,prevBackendTranscript,gotIt=!1;function makeOnlyLastActive(){$(".active").each((function(e){$(this).removeClass("active")}))}function makeOnlyLastItemActive(){showAll||$(".item").each((function(e){$(this).addClass("invisible"),e==$(".item").length&&$(this).removeClass("invisible")}))}function makeOnlyLastVisible(e){$(".item").each((function(t){$(this).attr("id")!=e&&($(this).hasClass("invisible")&&$(this).hasClass("invisibleHyperactive")||$(this).addClass(invisAnimation))}))}function makeOnlyLastThreeVisible(e){$itemsWithoutLastThree=$(".item").slice(0,$(".item").length-8),$allItems=$(".item"),$itemsWithoutLastThree.each((function(t){$(this).attr("id")!=e&&$(this).addClass("invisibleShrink")})),$allItems.each((function(t){$(this).attr("id")!=e&&$(this).addClass("textInvisible")}))}function beep(e,t,i){v=a.createOscillator(),u=a.createGain(),v.connect(u),v.frequency.value=t,v.type="square",u.connect(a.destination),u.gain.value=.01*e,v.start(a.currentTime),v.stop(a.currentTime+.001*i)}function beepNews(e,t,i){v=b.createOscillator(),u=b.createGain(),v.connect(u),v.frequency.value=t,v.type="square",u.connect(b.destination),u.gain.value=.01*e,v.start(b.currentTime),v.stop(b.currentTime+.001*i)}function removeTrash(){$(".item").each((function(e){!$(this).children(".wps").text().length>0&&"contemplation"!=mindMode&&$(this).remove()})),$(".item.visualizerState-1").each((function(e){!$(this).children(".icon-wrap").children().length>0&&"contemplation"!=mindMode&&$(this).remove()}))}function markLastWord2(){$(".item:nth-last-child(2) p").html((function(){var e=$(this).text().split(" "),t=e.pop();return"<span class='first'>"+e.join(" ")+"</span>"+(e.length>=0?' <span class="last">'+t+"</span>":t)}))}function markLastWord(){$(".active p").html((function(){var e=$(this).text().split(" "),t=e.pop();return"<span class='first'>"+e.join(" ")+"</span>"+(e.length>=0?' <span class="last">'+t+"</span>":t)}))}function roundPitch(e){var t=Math.log(e/440)/Math.log(2)*7;return Math.round(t)+69}function roundVolume(e){var t=Math.log(e/440)/Math.log(2)*7;return Math.round(t)+69}function calcStyles(e,t,i,a,n,o,s){var l,r,c=300,d=Math.floor(10*Math.random())-1,u="",m=100*Math.random()-1,h="none",p=0;const g="#"+e;var v=Math.floor(0+101*Math.random());1==smallOldText&&$(g+"> p .smallP").addClass("showBlock"),v>99&&(flipFactor=180,flipFactor),m>99.8?(p=20,TweenMax.to($(g+"> p"),300,{letterSpacing:p+120})):p=0,"center"==displayMode||"horizontal"==displayMode?(wpsToLetter=i/2*(t/8),wpsToLetter<.5&&wpsToLetter>.3&&(wpsToLetter=.2),wpsToLetter<.3&&(wpsToLetter=0),wpsToLetter>3&&(wpsToLetter=3-wpsToLetter/3),wpsToLetter<0&&(wpsToLetter=0)):(o<.5&&(o=.3),o>1.2&&(o=1.2),wpsToLetter=2.5*o-.75),"huge"==fontSizeMode&&(c="400",l="900",r="13vw"),"small"==fontSizeMode&&(c="100",l="600",fontSpacing="huge",r="13vw"),"voice"==fontSizeMode&&((c=a*a/10)>900&&(c=a*a/15,l=800,v>90&&(l=400)),c>3e3&&(c=a*a/20,l=900,v>95&&(l=100)),c<250&&0!=visualizerState&&(c=250),c<180&&0==visualizerState&&(c=180),console.log(a),console.log(c),5==visualizerState&&c<400&&(c=400),c>1600&&(h="uppercase"),v>40&&(l="800"),v>35&&v<40&&(l="700"),v>30&&v<35&&(l="600"),v>20&&v<30&&(l="400"),v>0&&v<20&&(l="100"),displayColor=11!=visualizerState&&12!=visualizerState&&13!=visualizerState&&a>140?secondaryColor:primaryColor,0==visualizerState&&(displayColor=a>140?secondaryColor:primaryColor)),i>2&&"words"!=textMode&&"normal"!=fontSizeMode&&"small"!=fontSizeMode?m<=98&&$(g).addClass("alignTextLeft"):m>=90&&"small"!=fontSizeMode&&$(g).addClass("alignTextLeft"),1==shoppingMode&&$(g).addClass("alignTextLeftTop"),"huge"==fontSpacing&&(p=1,TweenMax.to($(g+"> p"),300,{letterSpacing:p+40})),"normal"!=fontSizeMode&&"small"!=fontSizeMode?""==u&&($(g+"> p").hasClass("outlineStyle")||$(g+"> p").hasClass("normalStyle")||(d>6&&($(g+"> p").removeClass(),u="outlineStyle",l=900,$(g+"> p").addClass(u)),d>=3&&d<=6&&($(g+"> p").removeClass(),u="normalStyle",$(g+"> p").addClass(u)))):$(g+"> p").removeClass(),$(g+"> p").css({fontSize:.9*c+"%",letterSpacing:p+"vmin",fontWeight:l,textTransform:h}),$(g+"> .lps").css({fontSize:r})}function createItem(){const e=document.createElement("div"),t=document.createElement("p");e.className="item active",e.id="item-"+resultCount,items.appendChild(e);const i=document.createElement("div"),a=document.createElement("div"),n=document.createElement("div"),o=document.createElement("figure"),s=document.createElement("span"),l=document.createElement("span"),r=document.createElement("a"),c=document.createElement("div"),d=document.createElement("div"),u=document.createElement("span"),m=document.createElement("span"),h=document.createElement("span"),p=document.createElement("span"),g=document.createElement("span"),v=document.createElement("span"),f=document.createElement("span"),S=document.createElement("figure");document.createElement("div");e.style.setProperty("--darkColor",activeColor);new Date;resultCount+=1,a.className="iframeWrap",i.className="wps",h.className="frameNumber",n.className="lps",s.className="voicePitch",o.className="icon-wrap",S.className="image-wrap",c.className="shoppingData-wrap",d.className="shoppingData-image",u.className="shoppingData-text",l.className="volume",r.className="shoppingButton",r.setAttribute("target","_blank"),g.className="recDuration",v.className="timestamp timestampSpanLastWord",p.className=" timestampSpanFirstWord",f.className=" timestampReadable",m.className="wordCounter",e.appendChild(a),e.appendChild(i),e.appendChild(n),e.appendChild(s),e.appendChild(l),e.appendChild(m),e.appendChild(h),e.appendChild(g),e.appendChild(f),e.appendChild(v),e.appendChild(p),e.appendChild(t),e.appendChild(u),e.appendChild(d),e.appendChild(c),e.appendChild(r),e.appendChild(o),e.appendChild(S)}function startRecognition(){createItem(),recognition.start()}Number.prototype.map=function(e,t,i,a){return(this-e)*(a-i)/(t-e)+i};var randomTextIndex,visualizeIt,backendTranscriptObject={},numOfVisualizedTranscripts=0;!function(){var e=window.setInterval;window.setInterval=function(t,i,a){return a&&t(),e(t,i)}}();var slaveVisualizationSpeed,intervalBackendTranscript,prevIcon,justRendered=!1,firstStarted=!1;function stopRecognition(){recognition.abort()}function pauseRecognition(){recognition.stop()}function handleIcons(e,t){return new Promise(((t,i)=>{try{iconData=getIcon(e),t(iconData)}catch(e){i()}}))}async function handleWebsites(e,t,i){return new Promise(((t,a)=>{try{websiteData=getWebsite(e,i),t(websiteData)}catch(e){a()}}))}async function handleImages(e,t){return new Promise(((t,i)=>{try{imageData=getImage(e,filter),console.log(imageData),t(imageData)}catch(e){i(e)}}))}async function handleShoppingData(e,t){return new Promise(((t,i)=>{try{shoppingData=getShoppingImage(e),t(shoppingData)}catch(e){i()}}))}function handleTranslation(e,t){let a=["englisch","deutsch","chinesisch","russisch"];if(1!=iconMode){var n=String(e).toLowerCase();for(i=0;i<=a.length;i++)n.includes(a[i])&&("englisch"==a[i]&&(translationLanguage="en"),"deutsch"==a[i]&&(translationLanguage="de"),"chinesisch"==a[i]&&(translationLanguage="zh"),"russisch"==a[i]&&(translationLanguage="ru"))}else translationLanguage="en";return new Promise((t=>{translationData=getTranslation(e,translationLanguage),t(translationData)}))}function handleImageVisility(e,t){var i=$(t+" .image-wrap img").length,a=$(t+".image-wrap img"),n=100*Math.random()-1;invisAnimation=n>50?"invisibleHyperactive":"invisible",showAll||i>3&&a.slice(0,i-4).each((function(e,t){$(this).addClass(invisAnimation)}))}function handleIframeVisiblity(e){var t=$("body").find($("iframe")).length,i=$("body").find($("iframe"));$("body").find($(".item"));console.log(t),t>50&&i.slice(0,4).each((function(e,t){$(this).remove()}))}async function handleImageVisuals(e,t){const i=e.split(" ").splice(-1);var a,n,o,s=e.split(" ").length;if(""!=e){if("wholeText"==textMode&&imageMode){try{console.log(e),l=(l=await handleImages(e,t)).data.result.items[0],console.log(l)}catch{}"error"!=l&&l&&null!=l&&visualizeImage(l,l.url,t,s)}if(shoppingMode){try{o=(o=await handleShoppingData(e,t)).data.result.items[0]}catch{}"error"!=o&&visualizeShoppingData(o,t)}if("noText"==textMode&&imageMode||"headline"==textMode){try{l=(l=await handleImages(e,t)).data.result.items[0]}catch{}"error"!=l&&l&&visualizeImage(l,l.url,t,s)}if("words"==textMode&&imageMode){"vertical"!=displayMode&&"horizontal"!=displayMode||(t="item-"+(resultCount-1),createItem());try{var l;l=(l=await handleImages(e,t)).data.result.items[0]}catch{}"error"!=l&&l&&(visualizeImage(l,l.url,t,s),visualizeText(i,t))}if("noText"==textMode&&translationMode&&iconMode&&!imageMode){try{a=await handleTranslation(i,t)}catch{}if("error"!=a&&a){visualizeText(a.text,t);try{n=await handleIcons(a.text,t)}catch{}"error"!=n&&visualizeIcon(n,t)}}}}async function handleTextVisuals(e,t){const i=e.split(" ").splice(-1),a="#"+t;var n,o,s=e.split(" ").length;if("contemplation"!=mindMode&&handleImageVisility(s,a),"contemplation"!=mindMode){if("words"!=textMode||!translationMode||iconMode||imageMode||(o=await handleTranslation(i,t))&&"error"!=o&&visualizeText(o.text,t),"words"==textMode&&translationMode&&iconMode&&!imageMode&&(o=await handleTranslation(i,t),"vertical"!=displayMode&&"horizontal"!=displayMode||(t="item-"+(resultCount-1),createItem()),o&&"error"!=o)){visualizeText(o.text,t);try{l=handleIcons(o.text,t)}catch{}l&&"error"!=l&&visualizeIcon(l,t)}if("words"!=textMode||translationMode||imageMode||("vertical"!=displayMode&&"horizontal"!=displayMode||(t="item-"+(resultCount-1),createItem()),visualizeText(i,t)),"wholeText"==textMode&&translationMode&&!iconMode&&!imageMode){try{o=await handleTranslation(i,t)}catch{}o&&"error"!=o&&visualizeText(o.text,t)}if("noText"==textMode&&1==physicsMode&&visualizeText(e,t),"headlines"==textMode&&visualizeText(e,t),"noText"==textMode&&visualizeText(e,t),wikiMode&&webMode){$("#"+t).addClass("brightUI"),visualizeText(e,t);try{n=(n=await handleWebsites(i,t,"wiki")).data.result.items.mainline[0].items[0]}catch{}"https://www.wikipedia.org/"!=n&&n&&"error"!=n&&(visualizeWebsite(n,t),handleIframeVisiblity(t))}if("wholeText"==textMode&&translationMode&&iconMode&&!imageMode){try{o=await handleTranslation(i,t)}catch{}if(o&&"error"!=o){visualizeText(o.text,t);var l;(l=handleIcons(o.text[0].split(" ").splice(-1),t))&&"error"!=l&&visualizeIcon(l,t)}}if("wholeText"!=textMode||translationMode||imageMode||visualizeText(e,t),"wordsPerSecond"!=textMode||imageMode||visualizeText(e,t),"walloftext"!=textMode||translationMode||imageMode||(t="item-"+(resultCount-1),createItem(),visualizeText(i,t),removeTrash()),"walloftext"==textMode&&translationMode&&!iconMode&&!imageMode){try{o=await handleTranslation(i,t)}catch{}o&&"error"!=o&&(t="item-"+(resultCount-1),createItem(),visualizeText(o.text,t),removeTrash())}if("wholeText"==textMode&&imageMode&&translationMode){try{o=await handleTranslation(i,t)}catch{}o&&"error"!=o&&visualizeText(o.text,t)}if("wholeText"==textMode&&imageMode&&!translationMode&&visualizeText(e,t),webMode&&1!=wikiMode){$("#"+t).addClass("brightUI"),visualizeText(e,t);try{n=(n=await handleWebsites(e,t,"allWebsites")).data.result.items.mainline[0].items[0],console.log(n)}catch{n=(n=await handleWebsites(e,t,"allWebsites")).data.result.items.mainline[0].items[0],console.log(n)}n&&"error"!=n&&(visualizeWebsite(n,t),handleIframeVisiblity(t))}}if("contemplation"==mindMode&&"words"!=textMode){try{r=(r=await handleImages(e,t)).data.result.items[0]}catch{r=(r=await handleImages(e,t)).data.result.items[0]}r&&"error"!=r&&visualizeImage(r,t,s)}if("contemplation"==mindMode&&"words"==textMode){try{var r;r=(r=await handleImages(e,t)).data.result.items[0]}catch{}visualizeText(i,t),r&&"error"!=r&&visualizeImage(r,t,s)}}function visualizeIcon(e,t){const i="#"+t;Math.floor(10*Math.random()),$(i+"> .volume").text();if(null!=e.preview_url){if(e.preview_url!=prevIcon){const t=document.createElement("img");t.className="icon-img",$(i+"> .icon-wrap").append(t);var a=e.preview_url;e.term_slug;$(i+"> .icon-wrap .icon-img:last-child").attr("src",a);var n=Math.floor(9+2*Math.random()),o=$(i+"> .icon-wrap .icon-img:last-child").width(),s=$(i+"> .icon-wrap .icon-img:last-child").height()*(n/10),l=($(window).width(),$(window).height(),Math.floor(Math.random()*($(window).width()-2*o+$(window).width()/4+1))),r=Math.floor(Math.random()*($(window).height()-4*s+$(window).height()/4+1));physicalIcons&&(t.className="icon-img physical",$(".physic-wrap").append(t),$(".physic-wrap .icon-img:last-child").css({left:l,top:r})),"noText"!=textMode&&$(i+"> .icon-wrap .icon-img:last-child").css({left:l,position:"absolute",top:r})}prevIcon=e.preview_url}jumpToLastIcon(t)}function addDataToActiveItem(e,t){const i="#"+t,a=new Date;var n,o=0;const s=$(".item").eq(-2).find(".first").text()+" "+$(".item").eq(-2).find(".last").text();Math.floor(50*Math.random());thisNumOfWords="words"!=textMode&&1!=iconMode&&1!=translationMode?e.split(" ").length:1,wordCount="words"==textMode?wordCounting:$(i+"> p").text().split(" ").length-1,volumeArray.length&&(n=volumeArray.reduce((function(e,t){return e+t}))/volumeArray.length),volumeArray.push(voiceVolume),pitchArray.length&&(o=pitchArray.reduce((function(e,t){return e+t}))/pitchArray.length),0!=$("#pitch").text().length&&" "!=$("#pitch").text()&&parseInt($("#pitch").text())<800&&parseInt($("#pitch").text())>300&&pitchArray.push(parseInt($("#pitch").text())),$(i+"> .shoppingButton").text("jetzt kaufen"),$(i+"> .voicePitch").text(o),"wholeText"==textMode&&$(i+"> .volume").text(n),"walloftext"==textMode&&$(i+"> .volume").text(voiceVolume),"words"==textMode&&$(i+"> .volume").text(voiceVolume),"noText"==textMode&&$(i+"> .volume").text(voiceVolume),$(i+"> .wordCounter").text(thisNumOfWords),$(i+"> p").text(e),$(i+"> .timestampSpanLastWord").text(a.getTime()),$(i+"> .timestampReadable").text((new Date).toLocaleTimeString()),$(i+"> .wps").text(Math.round(thisNumOfWords/thisTimeDifference)),thisNumOfLetters=e.length,thisVolume=$(i+"> .volume").text(),thisVoicePitch=$(i+"> .voicePitch").text(),thisWps=Math.round(thisNumOfWords/thisTimeDifference),thisLps=thisNumOfLetters,thisTimeDifference=Math.abs($(i+"> .timestampSpanLastWord").text()-$(i+"> .timestampSpanFirstWord").text())/1e3,$(i+"> .lps").text(thisLps),$(i+"> .recDuration").text(thisTimeDifference),markLastWord(),$(i+"> p").prepend("<div class='smallP'></div>"),$(i+"> p .smallP").text(s)}function scrollInteractions(e){const t="#"+e;if("horizontal"==displayMode){var i=$(t).prev().position();$("html, body").stop().animate({scrollLeft:i.left},0)}if("vertical"==displayMode){i=$(t).position();$("html, body").stop().animate({scrollTop:i.top},0)}}function handleItemVisibility(e){1!=mapActive&&(showAll||makeOnlyLastVisible(e),"few"==showAll&&makeOnlyLastThreeVisible(e))}function getRandomizer(e,t){return function(){return Math.floor(Math.random()*(1+t-e))+e}}function visualizeWebsite(e,t){console.log(e);var i=e.url;var a=$("#"+t+"> .iframeWrap");Math.floor(.7+Math.random()*(1.9-1)),Math.floor(0+101*Math.random()),Math.floor(0+11*Math.random()),Math.floor(21*Math.random()-10),Math.floor(21*Math.random()),Math.floor(21*Math.random()),Math.floor(Math.random()*($(window).width()/2+1)),Math.floor(Math.random()*($(window).height()/2+1));if(null!=i){var n=$("<iframe>",{src:i,sandbox:""});n.attr("allowTransparency","true"),1==wikiMode&&n.attr("sandbox","allow-same-origin allow-scripts allow-popups allow-forms"),n.css("backgroundColor","transparent"),a.append(n)}}function visualizeShoppingData(e,t){const i="#"+t;$(i+"> .shoppingData-image").css("background-image","url("+e.product.image.urlMedium+")"),$(i+"> .shoppingData-wrap").text(e.product.description),console.log(e.product.title),$(i+"> p").text(e.product.title.slice(0,20)),""!=e.offers[0].url&&($(i+"> .shoppingButton").addClass("-visible"),$(i+"> .shoppingButton").attr("href",e.offers[0].url))}function visualizeImage(e,t,i,a){imageCount+=1;var n=window.innerWidth/2,o=window.innerHeight/2;const s="#"+i;var l=e.media,r=(t=t,"");if(hugeImage||(r="physical"),l){var c=$("<a>",{id:"image-link-"+imageCount,class:"image-link "+r,href:t,target:"_blank",css:{opacity:0}}),d=$("<img>",{class:"img ",height:e.height,width:e.width,src:l});$(s+"> .image-wrap").append(c),c.append(d);var u,m,h;h=Math.floor(100*Math.random())-1>70?Math.random()*(1.2-.8)+1.2:.3*Math.random()+.6;var p=Math.floor(0+101*Math.random()),g=Math.floor(0+11*Math.random()),v=Math.floor(21*Math.random()-10),f=d.width(),S=d.height()*h,M=$(window).width()/2-f/2,y=$(window).height()/2-S/2,k=Math.floor(Math.random()*($(window).width()-f+1)),w=Math.floor(Math.random()*($(window).height()-S+1));k<$(window).width()/4&&(k+=$(window).width()/4),w<$(window).height()/4&&(w+=$(window).height()/4),a<=2&&g>5?(u=M,m=y):(u=k,m=w),p>93&&(v+=180),p>78&&c.addClass("-imageOnTop"),c.css({left:u,top:m,transform:"scale("+h+") rotate("+v+"deg) rotate()",opacity:1}),"contemplation"==mindMode&&(c.addClass("-isContemplating"),TweenLite.set(c,{x:Math.random()*n-Math.random()*n,y:o/2,scale:1,opacity:1}),TweenMax.to(c,30,{x:Math.random()*n-Math.random()*n,y:"-100%",opacity:0,scale:"0"}))}}function visualizeText(e,t){addDataToActiveItem(e,t),"slave"==appNetworkMode&&((thisVolume=backendTranscriptObject.volume[backendTranscriptObject.volume.length-1]+40)>200&&(thisVolume=200),console.log(thisVolume)),calcStyles(t,thisTimeDifference,thisNumOfWords,thisVolume,thisVoicePitch,thisWps,e),scrollInteractions(t)}const items=document.querySelector(".items");var lastWordOfSpeak,activeID,scale=1,secondsSinceLastResult=0,secondsSinceSpeakingActive=0,notYet=!0;function controlSentenceSplit(e,t,i,a){2!=visualizerState&&(e>50&&(a.split(" ").length>2&&restartRec(),1==a.split(" ").length&&a.length>5&&restartRec()),e<=50&&"normal"!=t&&e>=2&&a.split(" ").length>6&&restartRec())}var newState,oldState,indicateTimeout,indicateTimeout2,justchanged=!1;function randomMode(e){var t=Math.round(8200*Math.random())+4800,i=Math.floor(46+55*Math.random()),a=(Math.floor(14*Math.random()),Math.floor(100*Math.random())-1);1==visualizerState&&(t=6e3),justchanged||(justchanged=!0,resetVisualizer("toChaos"),a>30?(i>=85&&(visualizerState=7),i>=80&&i<88&&!zoomState&&(visualizerState=3),i>=75&&i<80&&(visualizerState=11),i>=70&&i<75&&(visualizerState=0),i>=50&&i<70&&(visualizerState=2),i>=46&&i<50&&(visualizerState=12),i>=40&&i<46&&(visualizerState=14),i>=35&&i<40&&(visualizerState=7,useTranskript=!0),i<35&&(visualizerState=7)):visualizerState=7,console.log("%c visualizerstate jetzt: "+visualizerState,"background: blue; color:white"),console.log("%c f√ºr: "+t,"background: blue; color:white"),setTimeout((function(){justchanged=!1}),t))}function hideAllImages(){var e=document.getElementsByClassName("img");if(e.length>0)for(i=0;i<e.length;i++)e[i].style.display="none"}function showAllImages(){var e=document.getElementsByClassName("img");if(e.length>0)for(i=0;i<e.length;i++)e[i].style.display="block"}function indicateNewFrame(){clearTimeout(indicateTimeout),$(".action-indicator").addClass("-active"),indicateTimeout=setTimeout((function(){$(".action-indicator").removeClass("-active")}),700)}var beepNotStarted=!0,countBeeps=0;function indicateAction(){clearTimeout(indicateTimeout),$(".interaction-indicator").addClass("-active"),indicateTimeout=setTimeout((function(){$(".interaction-indicator").removeClass("-active")}),700)}var semanticTriggered=!0,activeChanged=!1;function makeItemActive(e){$(".item").each((function(t){$(".frameNumber",this).html()==e&&($(this).clone().removeClass("invisible").removeClass("invisibleHyperactive").addClass("active").appendTo(".items"),mapActive=!1,zoomState=!1,prevZoomLevel=0,zoomLevel=2)}))}var hyperBeepInterval,hyperBeepNotStarted=!0,hyperCountBeeps=0;function neustart(){console.log("reboot"),messages=[],$("html").removeClass("shutDown -blackBg"),resetNews(),fresseHalten(),resetTranscript(),window.location.href="https://"+url+"/master"}var denn=!1,has=!1;function handleSemanticOptions(e,t,a,n){var o=e.toLowerCase();semanticCounter+=1,console.log(e);let s=["penis","hans","bitte kontrolle","es reicht","dynamisch","kleiner","gr√∂√üer","reinzoomen","rauszoomen","poesie","weiter","bitte zur√ºck","filter","not safe","not safe for work","lottozahlen","tempo","ok","feedback aus","feedback an","internet","feedback","leise","hallo hallo","shoppen","w√∂rter","danke","steuer","gesteuert","schlie√üen","text","vorlesen","zeichen","chaos","?","fallen","russisch","chinesisch","stop","fresse","sound","suchen","surfen","surfen","pause","neustart","aus","leise","stille","schnell","langsam","leise","collage","geschichte","zufall","denken","reden","stimme","text","regen","wikipedia","englisch","deutsch","unsichtbar","hallo"];"english"==language&&(s=["penis","hans","control please","enough","dynamic","smaller","bigger","zoom in","zoom out","poetic","weiter","history","filter","lotto","not safe","not safe for work","faster","ok","feedback off","feedback on","internet","feedback","quiet","hello hello","shopping","words","thanks","close","text","read","chaos","?","falling","russian","chinese","stop","sound","search","surfing","pause","reboot","off","quiet","silence","fast","slow","quiet","meme","thinking","talking","voice","rain","wikipedia","englisch","german","invisible"]);Math.floor(100*Math.random());for(i=0;i<=s.length;i++)"english"==language?o.includes(s[i])&&("stop"!=s[i]||newstickerRunning||hansKlein||(fresseHalten(),hansKlein=!1,soundState=!1,speaking=!1,poesie=!1,lottozahlen=!1,feedbackState=!1),"h√§nschen"!=s[i]&&"klein"!=s[i]||(pr√§sentation=!1,$(".hans").addClass("fadeInAndOut"),beepNotStarted&&(beepNotStarted=!1,beepInterval=setInterval((function(){countBeeps+=1,beep(5,100,50),countBeeps>2&&clearInterval(beepInterval)}),1e3))),"penis"==s[i]&&(imageMode=!0,filter=!filter,indicateAction(),console.log(imageMode)),("pause"==s[i]||"reboot"==s[i]&&!newsTicker)&&(restart=!0,neustart()),speaking||(chaosMode||resetVisualizer(),("filter"==s[i]||"nsfw"==s[i]||"not safe"==s[i]||"not safe for work"==s[i]&&!has)&&(filter=!filter,indicateAction()),"poetic"==s[i]&&(clearTimeout(collageTimeout),poesie=!0,indicateAction(),feedbackState=!1,soundState=!1,livestream=!1,chaosMode=!1,menuState=!1,visualizerState=3),"lotto"!=s[i]&&"lottozahlen"!=s[i]||setTimeout((function(){menuState=!1}),1e3),"sound"==s[i]&&(soundState=!soundState,indicateAction()),1==semanticTriggered&&("hello hello"!=s[i]||countdown||($("html").hasClass("-activeTutorial")&&(intro.exit(),intro.goToStep(1).start()),menuState=!0,indicateAction()),"thanks"==s[i]&&(indicateAction(),setTimeout((function(){$(".item:nth-last-child(2) p .last").text("no problem :)")}),1e3)),"dynamic"==s[i]&&zoomState&&(dynamicZoom=!dynamicZoom,zoomInteraction=!0,indicateAction(),openMapMenu()),"zoom out"==s[i]&&(console.log("rauszoomenrauszoomenrauszoomenrauszoomen"),dynamicZoom=!1,indicateAction(),zoomInteraction=!0,rausGezoomed=!0,openMapMenu(),zoomLevel<5&&(zoomLevel+=1),handleZoom()),"zoom in"==s[i]&&(dynamicZoom=!1,zoomInteraction=!0,indicateAction(),reinGezoomed=!0,openMapMenu(),console.log("reinzoo"),zoomLevel>2&&(zoomLevel-=1),3==zoomLevel&&(zoomLevel=2),2==zoomLevel&&(indicateAction(),zoomState=!1),handleZoom()),"fragment"==s[i]&&(lesezeichen=!lesezeichen,indicateAction()),semanticTriggered=!1,setTimeout((function(){semanticTriggered=!0,reinGezoomed=!1,rausGezoomed=!1,zoomInteraction=!1}),2e3),"close"!=s[i]&&"ok"!=s[i]||(menuState=!1,indicateAction(),$("html").hasClass("-activeTutorial")&&(intro.exit(),$("html").removeClass("-activeTutorial"))),pr√§sentation||("control"!=s[i]&&"gesteuert"!=s[i]||(sprachSteuerung=!sprachSteuerung,indicateAction(),sprachSteuerung&&(chaosMode=!1)),"history"==s[i]&&(openMapMenu(),-1!=visualizerState&&3!=visualizerState||(visualizerState=6),zoomState=!zoomState,indicateAction(),setTimeout((function(){menuState=!1,closeMenu()}),1e3)),"fast"==s[i]&&(feedbackSpeed=3,indicateAction(),feedbackDuration=15),"slow"!=s[i]||hansKlein||(fresseHalten(),feedbackDuration=30,feedbackSpeed=60,indicateAction()),"normal"!=s[i]||hansKlein||(fresseHalten(),feedbackDuration=30,feedbackSpeed=10,indicateAction()),"feedback"!=s[i]||hansKlein||(fresseHalten(),indicateAction(),feedbackState=!feedbackState,$("html").hasClass("-activeTutorial")&&(intro.exit(),intro.goToStep(3).start())),"start"==s[i]&&(appState="visualizer",indicateAction()),"englisch"!=s[i]&&"russisch"!=s[i]&&"chinesisch"!=s[i]||(translationMode=!0,indicateAction())),"geschichte"==s[i]&&(aiState=!0,kontrolle=!0),"zufall"==s[i]&&(aiState=!1,kontrolle=!1),"internet"==s[i]&&setTimeout((function(){$(".item:nth-last-child(2) p").text("Die digitale Oase")}),1e3),1!=sprachSteuerung||pr√§sentation||("voice"==s[i]&&(clearTimeout(collageTimeout),zoomState&&(zoomState=!1),visualizerState=-1,indicateAction(),setTimeout((function(){menuState=!1,closeMenu()}),1e3)),"shopping"==s[i]&&(clearTimeout(collageTimeout),visualizerState=10,indicateAction(),setTimeout((function(){menuState=!1,closeMenu()}),1e3)),"iphone"==s[i]&&(clearTimeout(collageTimeout),visualizerState=10,indicateAction(),setTimeout((function(){menuState=!1,closeMenu()}),1e3)),"thinking"==s[i]&&(pr√§sentation||clearTimeout(collageTimeout),visualizerState=1,indicateAction(),setTimeout((function(){menuState=!1,closeMenu()}),1e3)),"falling"!=s[i]&&"rain"!=s[i]||(zoomState&&(zoomState=!1),clearTimeout(collageTimeout),visualizerState=3,indicateAction(),setTimeout((function(){menuState=!1,closeMenu()}),1e3)),"wikipedia"==s[i]&&(clearTimeout(collageTimeout),visualizerState=9,indicateAction(),setTimeout((function(){menuState=!1,closeMenu()}),1e3)),"searching"!=s[i]&&"surfing"!=s[i]||(clearTimeout(collageTimeout),visualizerState=8,indicateAction(),setTimeout((function(){menuState=!1,closeMenu()}),1e3)),"words"==s[i]&&(clearTimeout(collageTimeout),imageMode=!1,visualizerState=0,indicateAction(),setTimeout((function(){menuState=!1,closeMenu()}),1e3)),"meme"==s[i]&&(visualizerState=7,indicateAction(),$("html").hasClass("-activeTutorial")?(intro.exit(),intro.goToStep(2).start()):setTimeout((function(){menuState=!1,closeMenu()}),1e3)),"german"==s[i]&&(translationMode=!1,indicateAction()))),handleOptionStates(),handleVisualizerStates())):o.includes(s[i])&&("hallo hallo"==s[i]&&(menuState=!0,indicateAction(),$("html").hasClass("-activeTutorial")&&(intro.exit(),intro.goToStep(1).start())),"fresse"!=s[i]&&"komm runter"!=s[i]&&("stop"!=s[i]||newstickerRunning||hansKlein)||(fresseHalten(),hansKlein=!1,soundState=!1,speaking=!1,poesie=!1,lottozahlen=!1,feedbackState=!1),"h√§nschen"!=s[i]&&"klein"!=s[i]||(pr√§sentation=!1,$(".hans").addClass("fadeInAndOut"),beepNotStarted&&(beepNotStarted=!1,beepInterval=setInterval((function(){countBeeps+=1,beep(5,100,50),countBeeps>2&&clearInterval(beepInterval)}),1e3))),"penis"==s[i]&&(imageMode=!0,filter=!filter,indicateAction(),console.log(imageMode)),"synchro"==s[i]&&(syncedSlaves=!syncedSlaves,indicateAction()),"pr√§sentiere"==s[i]&&(console.log("PR√ÑSENTIERE"),physicInFolie=!0,setTimeout((function(){handlePresentation()}),2e3)),("pause"==s[i]||"neustadt"==s[i]||"start"==s[i]&&!newsTicker)&&(restart=!0,neustart()),"bitte l√∂sch"!=s[i]||newstickerRunning||hansKlein||($(".item").each((function(e){$(this).hasClass("active")||$(this).remove()})),$(".physic-wrap p").remove(),rebuildPhysicsStatic(),lastTranskription=[]),speaking||(chaosMode||resetVisualizer(),pr√§sentation||"echo an"==s[i]&&(indicateAction(),echoMode=!0),"echo aus"==s[i]&&(indicateAction(),echoMode=!1),"es reicht"==s[i]&&(feedbackState=!1,netzwerk=!0,indicateAction(),zoomState=!1,lesezeichen=!1,menuState=!1,hansKlein=!0),"filter"!=s[i]&&"nsfw"!=s[i]&&"not safe"!=s[i]&&"not safe for work"!=s[i]||(filter=!filter,indicateAction()),"bilder an"==s[i]&&(imageMode=!0),"bilder aus"==s[i]&&(imageMode=!1),"poesie"==s[i]&&(clearTimeout(collageTimeout),poesie=!0,indicateAction(),feedbackState=!1,soundState=!1,livestream=!1,chaosMode=!1,menuState=!1,visualizerState=3),"lotto"!=s[i]&&"lottozahlen"!=s[i]||setTimeout((function(){menuState=!1}),1e3),"sound"==s[i]&&(soundState=!soundState,indicateAction()),1==semanticTriggered&&("bitte zur√ºck"==s[i]&&(openMapMenu(),-1!=visualizerState&&3!=visualizerState||(visualizerState=6),zoomState=!zoomState,indicateAction(),setTimeout((function(){menuState=!1,closeMenu()}),1e3)),"netzwerk"==s[i]&&(netzwerk=!netzwerk,indicateAction()),"danke"==s[i]&&(indicateAction(),setTimeout((function(){$(".item:nth-last-child(2) p .last").text("bitte")}),1e3)),"dynamisch"==s[i]&&zoomState&&(dynamicZoom=!dynamicZoom,zoomInteraction=!0,indicateAction(),openMapMenu()),"rauszoomen"==s[i]&&(console.log("rauszoomenrauszoomenrauszoomenrauszoomen"),dynamicZoom=!1,indicateAction(),zoomInteraction=!0,rausGezoomed=!0,openMapMenu(),zoomLevel<5&&(zoomLevel+=1),handleZoom()),"reinzoomen"==s[i]&&(dynamicZoom=!1,zoomInteraction=!0,indicateAction(),reinGezoomed=!0,openMapMenu(),console.log("reinzoo"),zoomLevel>2&&(zoomLevel-=1),3==zoomLevel&&(zoomLevel=2),2==zoomLevel&&(indicateAction(),zoomState=!1),handleZoom()),"fragment"==s[i]&&(lesezeichen=!lesezeichen,indicateAction()),"speicher"==s[i]&&(indicateAction(),$(".item").eq(-2).clone().appendTo($(".app-history"))),semanticTriggered=!1,setTimeout((function(){semanticTriggered=!0,reinGezoomed=!1,rausGezoomed=!1,zoomInteraction=!1}),2e3),"pr√§sentation"!=s[i]||zoomState||pr√§sentation||(folienSchritt=0,pr√§sentation=!pr√§sentation,useTranskript=!1,activeFolie=0,indicateAction()),"schlie√üen"!=s[i]&&"ok"!=s[i]||(menuState=!1,indicateAction(),$("html").hasClass("-activeTutorial")&&(intro.exit(),$("html").removeClass("-activeTutorial"))),pr√§sentation||("steuer"!=s[i]&&"gesteuert"!=s[i]||(sprachSteuerung=!sprachSteuerung,indicateAction(),sprachSteuerung&&(chaosMode=!1)),"livestream"!=s[i]&&"kommentar"!=s[i]||(livestream=!livestream,indicateAction()),"tagesschau"!=s[i]||newstickerRunning||1==newsTicker||(newsTicker=!0,handleTimer()),"tempo"==s[i]&&(feedbackSpeed=3,indicateAction(),feedbackDuration=15),"langsam"!=s[i]||hansKlein||(fresseHalten(),feedbackDuration=30,feedbackSpeed=60,indicateAction()),"normal"!=s[i]||hansKlein||(fresseHalten(),feedbackDuration=30,feedbackSpeed=10,indicateAction()),"physik"==s[i]&&(physicsMode=!0,indicateAction()),("ruhe"==s[i]||"leise"==s[i]||"stille"==s[i]&&!hansKlein)&&(fresseHalten(),feedbackSpeed=20,indicateAction(),feedbackDuration=30,feedbackState=!1),"feedback"!=s[i]||hansKlein||(fresseHalten(),indicateAction(),feedbackState=!feedbackState,$("html").hasClass("-activeTutorial")&&(intro.exit(),intro.goToStep(3).start())),"karte"==s[i]&&(menuState=!1,indicateAction(),zoomState=!zoomState),"start"==s[i]&&(appState="visualizer",indicateAction()),"englisch"!=s[i]&&"russisch"!=s[i]&&"chinesisch"!=s[i]||(translationMode=!0,indicateAction())),"chat"==s[i]&&(chatlog=!chatlog),"internet"==s[i]&&setTimeout((function(){$(".item:nth-last-child(2) p").text("Die digitale Oase")}),1e3),1!=sprachSteuerung||pr√§sentation||("stimme"==s[i]&&(clearTimeout(collageTimeout),zoomState&&(zoomState=!1),visualizerState=-1,indicateAction(),setTimeout((function(){menuState=!1,closeMenu()}),1e3)),"vollbild"==s[i]&&(clearTimeout(collageTimeout),visualizerState=11,indicateAction(),setTimeout((function(){menuState=!1,closeMenu()}),1e3)),"shoppen"==s[i]&&(clearTimeout(collageTimeout),visualizerState=10,indicateAction(),setTimeout((function(){menuState=!1,closeMenu()}),1e3)),"iphone"!=s[i]&&"bier"!=s[i]&&"gem√ºse"!=s[i]&&"haus"!=s[i]&&"rasierer"!=s[i]||(clearTimeout(collageTimeout),visualizerState=10,indicateAction(),setTimeout((function(){menuState=!1,closeMenu()}),1e3)),"denken"!=s[i]&&"denke"!=s[i]||(pr√§sentation||clearTimeout(collageTimeout),visualizerState=1,indicateAction(),setTimeout((function(){menuState=!1,closeMenu()}),1e3)),"zeichen"!=s[i]&&"symbol"!=s[i]||(clearTimeout(collageTimeout),visualizerState=2,indicateAction(),setTimeout((function(){menuState=!1,closeMenu()}),1e3)),"regen"!=s[i]&&"fallen"!=s[i]||(zoomState&&(zoomState=!1),clearTimeout(collageTimeout),visualizerState=3,indicateAction(),setTimeout((function(){menuState=!1,closeMenu()}),1e3)),"wikipedia"==s[i]&&(clearTimeout(collageTimeout),visualizerState=9,indicateAction(),setTimeout((function(){menuState=!1,closeMenu()}),1e3)),"suchen"!=s[i]&&"surfen"!=s[i]||(clearTimeout(collageTimeout),visualizerState=8,indicateAction(),setTimeout((function(){menuState=!1,closeMenu()}),1e3)),"schnell"==s[i]&&(clearTimeout(collageTimeout),imageMode=!1,visualizerState=0,indicateAction(),setTimeout((function(){menuState=!1,closeMenu()}),1e3)),"collage"==s[i]&&(visualizerState=7,indicateAction(),$("html").hasClass("-activeTutorial")?(intro.exit(),intro.goToStep(2).start()):setTimeout((function(){menuState=!1,closeMenu()}),1e3)),"deutsch"==s[i]&&(translationMode=!1,indicateAction()))),handleOptionStates(),handleVisualizerStates()));return e}var colorJustChanged=!1;function handleSemanticStyling(e,t){document.documentElement;var a=100*Math.random()-1;let n=document.getElementById(t),o=["rot","blau","schwarz","gelb","gr√ºn","orange","braun","pink","lila","silber"],s=["red","blue","black","  #ffcc00","green","orange","brown","pink","purple","silver"];var l=Math.floor(Math.random()*(o.length-1-0+1))-0;let r=document.getElementById("physic-wrap");for(i=0;i<=o.length;i++)e.includes(o[i])&&(n.style.setProperty("--darkColor",s[i]),r.style.setProperty("--darkColor",s[i]),r.classList.add("-"+s[i]),n.classList.add("-"+s[i]),activeColor=s[i],colorJustChanged=!0,"gr√ºn"==o[i]&&(activeColor="#4dc255")),e.includes(s[i])&&(colorJustChanged=!0,n.style.setProperty("--darkColor",s[i]),r.style.setProperty("--darkColor",s[i]),activeColor=s[i]);shoppingMode||iconMode||a>98&&(colorJustChanged=!0,n.style.setProperty("--darkColor",s[l]),r.style.setProperty("--darkColor",s[l]),activeColor=s[l]),colorJustChanged&&setTimeout((function(){colorJustChanged=!1,activeColor="black"}),5e3),handleFeatureStateColors(e,t)}function handleFeatureStateColors(e,t){let i=document.getElementById(t),a=document.getElementById("physic-wrap");!tagesschauIntroNotPlayed&&newstickerRunning&&(activeColor="blue",colorJustChanged=!0,i.style.setProperty("--darkColor",activeColor),i.style.setProperty("--brightColor","red"),a.style.setProperty("--darkColor",activeColor),a.style.setProperty("--brightColor","red")),hansKlein&&(activeColor="blue",colorJustChanged=!0,i.style.setProperty("--darkColor",activeColor),i.style.setProperty("--brightColor","red"),a.style.setProperty("--darkColor",activeColor),a.style.setProperty("--brightColor","red")),"blue"==activeColor&&"dark"==displayColor?$("html").addClass("-onBlue"):$("html").removeClass("-onBlue")}function startUserMedia(e){const t=new AudioContext,i=t.createAnalyser(),a=t.createMediaStreamSource(e);a.connect(i),meter=createAudioMeter(t),a.connect(meter),drawLoop()}navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,navigator.getUserMedia({audio:!0},startUserMedia,(function(e){__log("No live audio input: "+e)}));var WIDTH=500;function drawLoop(){voiceVolume=meter.volume*WIDTH*1.4,rafID=window.requestAnimationFrame(drawLoop)}const angle=Ola(0,1e3),canvas=document.querySelector("#graphVolume"),canvas2=document.querySelector("#graphPitch");canvas.width=window.innerWidth,canvas.height=window.innerHeight/2,canvas2.width=window.innerWidth;const graphVolume=new SmoothieChart({millisPerPixel:2,borderVisible:!1,grid:{strokeStyle:"transparent",fillStyle:"transparent"},maxValue:350,minValue:-20}),graphPitch=new SmoothieChart({grid:{strokeStyle:"#fff",fillStyle:"#fff"},maxValue:15,minValue:0,interpolation:"step"});graphVolume.streamTo(canvas,50),graphPitch.streamTo(canvas2,900);const volumeRough=new TimeSeries,volumeSmooth=new TimeSeries,pitchRough=new TimeSeries,pitchSmooth=new TimeSeries;function populateVoiceList(){voices=synth.getVoices();var e=voiceSelect.selectedIndex<0?0:voiceSelect.selectedIndex;for(voiceSelect.innerHTML="",i=0;i<voices.length;i++){var t=document.createElement("option");t.textContent=voices[i].name+" ("+voices[i].lang+")",voices[i].default&&(t.textContent+=" -- DEFAULT"),t.setAttribute("data-lang",voices[i].lang),t.setAttribute("data-name",voices[i].name),voiceSelect.appendChild(t)}voiceSelect.selectedIndex=e}function rand(e,t,i){return void 0===i&&(i=1),Math.floor(Math.random()*(t-e+i)/i)*i+e}graphPitch.addTimeSeries(pitchRough,{strokeStyle:"rgba(0, 0, 255, 1)",lineWidth:2}),graphVolume.addTimeSeries(volumeSmooth,{strokeStyle:"rgba(0, 0, 0, 1)",lineWidth:11}),volumeRough.append(new Date,0),function e(){var t;t=$("#noteNum").text(),volumeSmooth.append(new Date,voiceVolume),pitchSmooth.append(new Date,t),requestAnimationFrame(e)}(),function e(){const t=$("#noteNum").text();angle.value=voiceVolume,pitchRough.append(new Date,t),volumeRough.append(new Date,voiceVolume),setTimeout(e,100)}(),void 0!==speechSynthesis.onvoiceschanged&&(speechSynthesis.onvoiceschanged=populateVoiceList);var synth=window.speechSynthesis,inputForm=document.querySelector(".search-input"),inputTxt=document.querySelector(".test-p"),voiceSelect=document.querySelector("select"),vorlesenFinished=!1;function vorlesen(e,t,a){window.utterances=[],vorlesenFinished=!1;Math.floor(2.5*Math.random());numOfSynth+=1;Math.floor(Math.random()*(voices.length-17-1));var n=Math.floor(2.5*Math.random()),o=Math.floor(2.5*Math.random()),s=new SpeechSynthesisUtterance(e);for(utterances.push(s),i=0;i<=3;i++)s.voice="english"==language?voices[6]:voices[2];s.volume=2.5*Math.random(),s.pitch=n,"slow"==t&&(s.pitch=0,s.rate=.29),"fast"==t&&(s.pitch=0,s.rate=.48),"medium"==t&&(s.pitch=1,s.rate=1),"random"==t&&(s.pitch=n,s.rate=o),s.onend=function(e){console.log("ENDEEEEEEEEEEEEE"),a(vorlesenFinished=!0)},synth.speak(s)}var synthMelodie=new Tone.Synth({oscillator:{type:"square"},envelope:{attack:.001,decay:.3,sustain:.03,release:.1}}).toMaster();function playSynth(){synthMelodie.triggerAttackRelease("G4","4n",1),synthMelodie.triggerAttackRelease("E4","4n",1.5),synthMelodie.triggerAttackRelease("E4","2n",2),synthMelodie.triggerAttackRelease("F4","4n",3),synthMelodie.triggerAttackRelease("D4","4n",3.5),synthMelodie.triggerAttackRelease("D4","2n",4),synthMelodie.triggerAttackRelease("C4","4n",5),synthMelodie.triggerAttackRelease("D4","4n",5.5),synthMelodie.triggerAttackRelease("E4","4n",6),synthMelodie.triggerAttackRelease("F4","4n",6.5),synthMelodie.triggerAttackRelease("G4","4n",7),synthMelodie.triggerAttackRelease("G4","4n",7.5),synthMelodie.triggerAttackRelease("G4","2n",8),synthMelodie.triggerAttackRelease("G4","4n",9),synthMelodie.triggerAttackRelease("E4","4n",9.5),synthMelodie.triggerAttackRelease("E4","2n",10),synthMelodie.triggerAttackRelease("F4","4n",11),synthMelodie.triggerAttackRelease("D4","4n",11.5),synthMelodie.triggerAttackRelease("D4","2n",12),synthMelodie.triggerAttackRelease("C4","4n",13),synthMelodie.triggerAttackRelease("E4","4n",13.5),synthMelodie.triggerAttackRelease("G4","4n",14),synthMelodie.triggerAttackRelease("G4","4n",14.5),synthMelodie.triggerAttackRelease("C4","4n",15),synthMelodie.triggerAttackRelease("D4","4n",16),synthMelodie.triggerAttackRelease("D4","4n",16.5),synthMelodie.triggerAttackRelease("D4","4n",17),synthMelodie.triggerAttackRelease("D4","4n",17.5),synthMelodie.triggerAttackRelease("D4","4n",18),synthMelodie.triggerAttackRelease("E4","4n",18.5),synthMelodie.triggerAttackRelease("F4","2n",19),synthMelodie.triggerAttackRelease("E4","4n",20),synthMelodie.triggerAttackRelease("E4","4n",20.5),synthMelodie.triggerAttackRelease("E4","4n",21),synthMelodie.triggerAttackRelease("E4","4n",21.5),synthMelodie.triggerAttackRelease("E4","4n",22),synthMelodie.triggerAttackRelease("F4","4n",22.5),synthMelodie.triggerAttackRelease("G4","2n",23),synthMelodie.triggerAttackRelease("G4","4n",24),synthMelodie.triggerAttackRelease("E4","4n",24.5),synthMelodie.triggerAttackRelease("E4","2n",25),synthMelodie.triggerAttackRelease("F4","4n",26),synthMelodie.triggerAttackRelease("D4","4n",26.5),synthMelodie.triggerAttackRelease("D4","2n",27),synthMelodie.triggerAttackRelease("C4","4n",28),synthMelodie.triggerAttackRelease("E4","4n",28.5),synthMelodie.triggerAttackRelease("G4","4n",29),synthMelodie.triggerAttackRelease("G4","4n",29.5),synthMelodie.triggerAttackRelease("C4","2n",30)}function fresseHalten(){console.log("FRESSE WIRD GEHALTEN"),console.log("FRESSE WIRD GEHALTEN"),console.log("FRESSE WIRD GEHALTEN"),console.log("FRESSE WIRD GEHALTEN"),console.log("FRESSE WIRD GEHALTEN"),console.log("FRESSE WIRD GEHALTEN"),console.log("FRESSE WIRD GEHALTEN"),console.log("FRESSE WIRD GEHALTEN"),console.log("FRESSE WIRD GEHALTEN"),console.log("FRESSE WIRD GEHALTEN"),console.log("FRESSE WIRD GEHALTEN"),console.log("FRESSE WIRD GEHALTEN"),console.log("FRESSE WIRD GEHALTEN"),clearInterval(intervalIncrementSecondsResult),clearInterval(intervalIncrementSecondsSpeaking),intervalIncrementSecondsResult=setInterval(incrementSecondsResult,100),intervalIncrementSecondsSpeaking=setInterval(incrementSecondsSpeaking,100),secondsSinceSpeakingActive=0,secondsSinceLastResult=0,speaking=!1,$("html").removeClass("speaking"),synth.cancel()}var numOfRuns=0;function newResult(){$("body").find(".readingIndicator").removeClass("-hidden"),$("body").find(".readingIndicator").removeClass("shrinkAnimationWaitingDuration"),setTimeout((function(){$("body").find(".readingIndicator").addClass("shrinkAnimationWaitingDuration")}),500)}function incrementSecondsResult(){var e=Math.floor(Math.random()*(lastTranskription.length-1+0))-0,t=100*Math.random()-1;numOfRuns>=3&&(numOfRuns=0),0==secondsSinceLastResult&&feedbackState&&!speaking&&$("body").find(".readingDurationIndicator").addClass("-hidden"),feedbackState&&(secondsSinceLastResult+=.1),secondsSinceLastResult>=feedbackSpeed&&(secondsSinceLastResult=0,speaking=!0,aiState?(soundState=!1,kontrolle=!1):soundState=!0,zoomState&&(zoomState=!1),$("body").find(".readingDurationIndicator").removeClass("-hidden"),$("body").find(".readingIndicator").removeClass("shrinkAnimationWaitingDuration"),$("body").find(".readingIndicator").addClass("-hidden"),$("body").find(".readingDurationIndicator").addClass("shrinkAnimationSpeakingDuration"),$("html").addClass("speaking"),invisAnimation=t>50?"invisibleHyperactive":"invisible"),1==speaking&&feedbackState&&0!=lastTranskription.length&&0==aiState&&(0==numOfRuns?vorlesen(lastTranskription[0],"random",(function(){})):(1==numOfRuns?lastTranskription.length>2&&vorlesen(lastTranskription[2],"random",(function(){})):vorlesen(lastTranskription[e],"random",(function(){})),vorlesen(t>50?lastTranskription[lastTranskription.length-1]:lastTranskription[e],"random",(function(){}))),numOfRuns+=1)}function replaceAllBackSlash(e){for(var t=e.indexOf("\\");t>=0;)t=(e=e.replace("\\","")).indexOf("\\");return e}function incrementSecondsSpeaking(){var e=$(".active").attr("id");let t=document.getElementById(e);1==speaking&&feedbackState&&(secondsSinceSpeakingActive+=.1),secondsSinceSpeakingActive>feedbackDuration&&(synth.cancel(),synth.cancel(),synth.cancel(),t.style.setProperty("--darkColor","black"),secondsSinceSpeakingActive=0,secondsSinceLastResult=0,soundState=!1,speaking=!1,glitch=!1,notYet=!0,showAll=!1,invisAnimation="invisible",$("html").removeClass("glitch-2"),$("html").removeClass("speaking"),hansKlein||fresseHalten())}const scaleMap=(e,t,i,a,n)=>(e-t)*(n-a)/(i-t)+a;function isEven(e){return e%2==0}window.onload=function(){if(musikState){var e,t=document.getElementsByTagName("path"),i=document.getElementById("visualizer"),a=i.getElementById("mask"),n=document.getElementsByTagName("h1")[0];Math.random();navigator.getUserMedia({audio:!0},(function(o){window.persistAudioStream=o,n.innerHTML="Thanks",n.setAttribute("style","opacity: 0;");var s=new AudioContext,l=s.createMediaStreamSource(o),r=s.createAnalyser();l.connect(r),r.fftSize=1024;var c=new Uint8Array(r.frequencyBinCount);i.setAttribute("viewBox","0 0 255 255");for(var d=0;d<255;d++)(e=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("stroke-dasharray","4,1"),a.appendChild(e);var u=function(){var e;requestAnimationFrame(u),r.getByteFrequencyData(c);for(var i=0;i<255;i++)e=Math.floor(c[i])-Math.floor(c[i])%5,t[i].setAttribute("d","M "+i+",255 l 0,-"+e);var a=0;for(i=0;i<c.length;i++)a+=parseInt(c[i],10);var n=a/c.length;console.log(n);var o=scaleMap(n,10,150,.6,1.3),s=scaleMap(n,10,150,-20,20),l=scaleMap(n,10,150,0,4);$(".app-main-wrap .items img").css({transform:"rotateZ("+s+"deg) scale("+o+") "}),$(".app-main-wrap .items").css({transform:"scale("+o+") "}),$(".app-main-wrap .items").css({filter:"saturate("+l+") "}),console.log(n)};u()}),(function(e){n.innerHTML="You must allow your microphone.",console.log(e)}))}};